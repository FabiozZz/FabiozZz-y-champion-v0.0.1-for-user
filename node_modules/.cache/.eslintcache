[{"/home/fabiozzz/www/react/y-champion/for-user/src/index.js":"1","/home/fabiozzz/www/react/y-champion/for-user/src/reportWebVitals.js":"2","/home/fabiozzz/www/react/y-champion/for-user/src/compponents/App.js":"3","/home/fabiozzz/www/react/y-champion/for-user/src/store/store.js":"4","/home/fabiozzz/www/react/y-champion/for-user/src/compponents/Home.js":"5","/home/fabiozzz/www/react/y-champion/for-user/src/compponents/navbar/Navbar.js":"6","/home/fabiozzz/www/react/y-champion/for-user/src/compponents/auth/Registration.js":"7","/home/fabiozzz/www/react/y-champion/for-user/src/compponents/auth/Login.js":"8","/home/fabiozzz/www/react/y-champion/for-user/src/reducers/userRedicer.js":"9","/home/fabiozzz/www/react/y-champion/for-user/src/utils/sales.js":"10","/home/fabiozzz/www/react/y-champion/for-user/src/utils/input/Input.js":"11","/home/fabiozzz/www/react/y-champion/for-user/src/exampleApi/APIJWT.js":"12","/home/fabiozzz/www/react/y-champion/for-user/src/actions/userActions.js":"13","/home/fabiozzz/www/react/y-champion/for-user/src/utils/constants.js":"14","/home/fabiozzz/www/react/y-champion/for-user/src/compponents/auth/forgetPassword/forgetPassword.js":"15","/home/fabiozzz/www/react/y-champion/for-user/src/utils/steps/Steps.js":"16"},{"size":632,"mtime":1619362798209,"results":"17","hashOfConfig":"18"},{"size":362,"mtime":1619092505684,"results":"19","hashOfConfig":"18"},{"size":3054,"mtime":1619693546488,"results":"20","hashOfConfig":"18"},{"size":239,"mtime":1619092505684,"results":"21","hashOfConfig":"18"},{"size":687,"mtime":1619430936804,"results":"22","hashOfConfig":"18"},{"size":1408,"mtime":1619425691850,"results":"23","hashOfConfig":"18"},{"size":3731,"mtime":1620122582184,"results":"24","hashOfConfig":"18"},{"size":2894,"mtime":1620122552044,"results":"25","hashOfConfig":"18"},{"size":569,"mtime":1619425903186,"results":"26","hashOfConfig":"18"},{"size":204,"mtime":1619092505687,"results":"27","hashOfConfig":"18"},{"size":337,"mtime":1619690993613,"results":"28","hashOfConfig":"18"},{"size":7419,"mtime":1620124395974,"results":"29","hashOfConfig":"18"},{"size":162,"mtime":1619425901646,"results":"30","hashOfConfig":"18"},{"size":111,"mtime":1619425816443,"results":"31","hashOfConfig":"18"},{"size":5790,"mtime":1620124404624,"results":"32","hashOfConfig":"18"},{"size":866,"mtime":1619981558778,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"tr0kj7",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"36"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"36"},"/home/fabiozzz/www/react/y-champion/for-user/src/index.js",[],["72","73"],"/home/fabiozzz/www/react/y-champion/for-user/src/reportWebVitals.js",[],"/home/fabiozzz/www/react/y-champion/for-user/src/compponents/App.js",["74","75"],"import React, {useEffect, useState} from 'react'\nimport {BrowserRouter} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {Route, Switch, useHistory} from \"react-router\";\nimport {Navbar} from \"./navbar/Navbar\";\nimport {Login} from \"./auth/Login\";\nimport {Registration} from \"./auth/Registration\";\nimport './app.css';\nimport {Home} from \"./Home\";\nimport api from \"../exampleApi/APIJWT\";\nimport {userLogIn, userLogOut} from \"../actions/userActions\";\nimport {toast, Toaster} from \"react-hot-toast\";\nimport {ForgetPassword} from \"./auth/forgetPassword/forgetPassword\";\n\n\nfunction App() {\n    const [isloading,setIsLoading] = useState(false);\n    const dispatch = useDispatch();\n    const isAuth = useSelector(state=>state.user.isAuth);\n\n    useEffect(()=>{\n        if (isloading) {\n            toast.loading('Loading ...')\n        }else{\n            toast.remove();\n        }\n    },[isloading])\n    useEffect(() => {\n        if(!isAuth) {\n            setIsLoading(true);\n\n            (async () => {\n                console.log('go response');\n                if (localStorage.getItem('refresh_token')) {\n                    console.log('есть токен')\n                    try {\n                        const user = await api.autoLog();\n                        console.log('have request', user)\n                        if (await user) {\n                            setIsLoading(false);\n\n                            dispatch(userLogIn(user));\n                        }else{\n                        }\n                    } catch (error) {\n                        dispatch(userLogOut());\n                        console.error(error);\n                    }\n                }\n                setIsLoading(false)\n            })();\n        }\n    }, [isAuth]);\n    return (\n        <BrowserRouter>\n            <Toaster position={'top-center'} toastOptions={\n                {\n                    style: {\n                        margin: '40px',\n                        background: '#363636',\n                        color: '#fff',\n                        zIndex: 1,\n                    }\n                }\n            }/>\n            {!isloading&&\n            <div className={'app'}>\n                <Navbar/>\n                <div className=\"wrap\">\n                    <Switch>\n                        {!isAuth&&\n                        <Switch>\n                            <Route exact path={'/login'} render={() => <Login/>}/>\n                            <Route exact path={'/registration'} render={() => <Registration/>}/>\n                            <Route exact path={'/forget'} render={() => <ForgetPassword/>}/>\n                        </Switch>\n                        }\n                        <Route exact path={'/'} render={()=><Home/>}/>\n                        <Route exact render={()=><h1>Нет такой страницы, проваливай от седа</h1>}/>\n                    </Switch>\n                </div>\n            </div>\n            }\n        </BrowserRouter>\n    );\n};\n\nexport default App;\n","/home/fabiozzz/www/react/y-champion/for-user/src/store/store.js",[],"/home/fabiozzz/www/react/y-champion/for-user/src/compponents/Home.js",[],"/home/fabiozzz/www/react/y-champion/for-user/src/compponents/navbar/Navbar.js",[],"/home/fabiozzz/www/react/y-champion/for-user/src/compponents/auth/Registration.js",["76"],"import React, {useEffect, useState} from 'react';\nimport {Input} from \"../../utils/input/Input\";\nimport './auth.css';\nimport {useHistory} from \"react-router\";\nimport api from '../../exampleApi/APIJWT';\nimport {toast,Toaster} from \"react-hot-toast\";\n\n\nexport const Registration = () => {\n    const history = useHistory();\n\n    //переключатель индикатора загрузки\n    const [isLoading,setIsLoading] = useState(false);\n\n    //данные пользователя\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [dotSales, setDotSales] = useState('');\n    const [name, setName] = useState('');\n    const [surName, setSurName] = useState('');\n    const [patronymic, setPatronymic] = useState('');\n    const [phone, setPhone] = useState('');\n    const [birthDay, setBirthDay] = useState('');\n\n    //следит за переключателем и в зависимости от значения показывает или скрывает индикатор\n    useEffect(()=>{\n        if (isLoading) {\n            toast.loading('loading')\n        }else{\n            toast.remove();\n        }\n    },[isLoading])\n\n    //прослушивает кнопку отправки на сервер данных от пользователя,\n    //переключает индикатор загрузки\n    const handleOnSubmit = async (e) => {\n        e.preventDefault();\n        setIsLoading(true);\n        const newUser = {\n            email,password,name,surName,patronymic,\n            dotSales,\n            phone,birthDay\n        };\n        const {data} = await api.register(newUser);\n        setIsLoading(false)\n        history.push('/login')\n    };\n\n    return (\n        <>\n            <Toaster position={'top-center'} toastOptions={\n                {style: {\n                        margin: '40px',\n                        background: '#363636',\n                        color: '#fff',\n                        zIndex: 1,\n                    }\n                }\n            }/>\n            {!isLoading&&\n\n            <div className={'auth'}>\n\n                <form action={'/some/action'}>\n                    <div className={'auth__title'}>Регистрация</div>\n                    <div className={'auth__body'}>\n                        <Input type={'text'} value={surName} setValue={setSurName} placeholder={'Фамилия ...'}/>\n                        <Input type={'text'} value={name} setValue={setName} placeholder={'Имя ...'}/>\n                        <Input type={'text'} value={patronymic} setValue={setPatronymic} placeholder={'Отчество ...'}/>\n                        <Input type={'text'} value={dotSales} setValue={setDotSales} placeholder={'Откуда о нас узнали ...'}/>\n                        <Input type={'email'} value={email} setValue={setEmail} placeholder={'Eemail ...'}/>\n                        <Input type={'number'} value={phone} setValue={setPhone}\n                               placeholder={'Номер телефона ...'}/>\n                        <label htmlFor=\"\">Введите дату рождения\n                            <Input type={'date'} value={birthDay} setValue={setBirthDay}/>\n                        </label>\n                        <Input type={'password'} value={password} setValue={setPassword}\n                               placeholder={'Введите пароль ...'}/>\n                        <button type={'submit'} onClick={handleOnSubmit} className={'auth__btn'}>Зарегестрироваться\n                        </button>\n                    </div>\n                </form>\n            </div>\n            }\n        </>\n    );\n};\n\n","/home/fabiozzz/www/react/y-champion/for-user/src/compponents/auth/Login.js",[],"/home/fabiozzz/www/react/y-champion/for-user/src/reducers/userRedicer.js",[],"/home/fabiozzz/www/react/y-champion/for-user/src/utils/sales.js",[],["77","78"],"/home/fabiozzz/www/react/y-champion/for-user/src/utils/input/Input.js",[],"/home/fabiozzz/www/react/y-champion/for-user/src/exampleApi/APIJWT.js",[],"/home/fabiozzz/www/react/y-champion/for-user/src/actions/userActions.js",[],"/home/fabiozzz/www/react/y-champion/for-user/src/utils/constants.js",[],"/home/fabiozzz/www/react/y-champion/for-user/src/compponents/auth/forgetPassword/forgetPassword.js",["79"],"import React, {useEffect, useState} from 'react';\nimport './forget.css'\nimport {Steps} from \"../../../utils/steps/Steps\";\nimport {Input} from \"../../../utils/input/Input\";\nimport {useHistory} from \"react-router\";\nimport api from '../../../exampleApi/APIJWT';\nimport {toast, Toaster} from \"react-hot-toast\";\n\nexport const ForgetPassword = ()=> {\n    const history = useHistory();\n\n    //блок для внутреннего стейта\n\n    //кнопка отправки паролей\n    const [disableFinish,setDisableFinish] = useState(true);\n\n    //загрузка данных на сервер\n    const [isLoading,setIsLoading] = useState(false);\n\n    //пользователь\n    const [email,setEmail] = useState('');\n    const [codeEmail,setCodeEmail] = useState('');\n    const [password,setPassword] = useState({\n        pass:'',\n        confPass: '',\n    });\n\n    //этапы восстановления - по умолчанию первый этап\n    const [step,setStep] = useState(1);\n\n    //прослушивание событий ввода\n    const handleEmail = (event) => {\n        setEmail(event);\n    };\n    const handleCodeEmail = (e) => {\n        setCodeEmail(e);\n    };\n    const handlePass = (e)=>{\n        setPassword(prevState => ({\n            ...prevState,\n            pass: e\n        }))\n    }\n    const handleConfPass = (e)=>{\n        setPassword(prevState => ({\n            ...prevState,\n            confPass: e\n        }))\n    }\n\n    //прослушивает последний ввод пароля, если оба пороля совпадают (сам пароль и подтверддение пароля)\n    //то последняя кнопка разблокирывается иначе нет возмодности отправить форму\n    useEffect(() => {\n        if (password.pass === password.confPass) {\n            setDisableFinish(false)\n        }else{\n            setDisableFinish(true)\n        }\n    },[password]);\n\n    //прослушивание загрузки, пока идет загрузка внутреннее содержимое не доступно\n    //показывается индикатор того что идет загрузка\n    useEffect(() => {\n        if (isLoading) {\n            toast.loading();\n        }else{\n            toast.remove();\n        }\n    },[isLoading]);\n\n    //прослушивание каждого этапа, в зависимости от того какой этап, данные уходят на разные пути\n    const handleNextStep = async (e)=>{\n        e.preventDefault();\n        setIsLoading(true)\n        setStep(prevState => prevState + 1);\n        let res = step === 1 ? await api.forgetEmail(email).then(r => {\n                setIsLoading(false);\n                return r;\n            }) :\n            await api.forgetCode(codeEmail).then(r => {\n                setIsLoading(false);\n                return r;\n            });\n        console.log(res)\n    }\n\n    //прослушивание кнопки отмены (возврата на предидущий шаг)\n    const handlePrevStep = (e)=>{\n        e.preventDefault();\n        setStep(prevState => prevState - 1);\n    }\n\n    //прослушивание финальной кнопки для отправки данных пользователя\n    //само восставновление пароля\n    const handleSubmitNewPass = async (e) => {\n        e.preventDefault();\n        setIsLoading(true)\n        const res = await api.forgeRefreshPass(password).then(r=>{\n            setIsLoading(false);\n            history.push('/login');\n        });\n    };\n\n    //динамичная подмена данных для компонента Input в зависимости от этапа восстановления\n    const place = step === 1 ? 'Введите ваш Email ...' : step ===2? 'Введите пароль из письма на почте ...'\n        : 'Создайте новый пароль';\n    const type = step === 1 ? 'email' : step ===2? 'text': 'password';\n    const val = step === 1 ? email : step ===2? codeEmail: 'password';\n    const setVal = step === 1 ? handleEmail : handleCodeEmail ;\n\n\n    return (\n        <React.Fragment>\n            <Toaster position={'top-center'} toastOptions={\n                {style: {\n                        margin: '40px',\n                        background: '#363636',\n                        color: '#fff',\n                        zIndex: 1,\n                    }\n                }\n            }/>\n            {!isLoading &&\n            <form className={'auth'}>\n                <h4>{place}</h4>\n                <Steps step={step}/>\n                {step < 3 ?\n                    <Input value={val} setValue={setVal} type={type}/> :\n                    <>\n                        <Input type={'password'} value={password.pass} placeholder={'Введите новый пароль'}\n                               setValue={handlePass}/>\n                        <Input type={'password'} value={password.confPass} placeholder={'Повторите новый пароль'}\n                               setValue={handleConfPass}/>\n                    </>\n                }\n                <button onClick={handlePrevStep} disabled={step <= 1}\n                        className={'auth__btn'}>Prev Step\n                </button>\n                {step < 3 ?\n                    <button onClick={handleNextStep} className={'auth__btn'}>Next Step</button>\n                    :\n                    <button onClick={handleSubmitNewPass} disabled={disableFinish} className={'auth__btn'}>Finish</button>\n                }\n            </form>\n            }\n        </React.Fragment>\n    );\n}","/home/fabiozzz/www/react/y-champion/for-user/src/utils/steps/Steps.js",["80","81"],"import React, {useState} from 'react';\nimport wrapActionCreators from \"react-redux/lib/utils/wrapActionCreators\";\n\nexport const Steps = ({step})=> {\n    const step1 = 'activeStep'\n\n    return (\n        <div className={`auth__steps`}>\n            <div className={`auth__steps__wrapper ${step>=1&&step1}`}>\n                <span id={'circleStep'} className={'auth__steps__wrapper__circle'}>1</span><span>Шаг 1</span>\n            </div>\n            <div className={`auth__steps__wrapper ${step>=2&&step1}`}>\n                <span id={'circleStep'} className={'auth__steps__wrapper__circle'}>2</span><span>Шаг 2</span>\n            </div>\n            <div className={`auth__steps__wrapper ${step>=3&&step1}`}>\n                <span id={'circleStep'} className={'auth__steps__wrapper__circle'}>3</span><span>Шаг 3</span>\n            </div>\n        </div>\n    );\n}",{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","replacedBy":"85"},{"ruleId":"86","severity":1,"message":"87","line":4,"column":24,"nodeType":"88","messageId":"89","endLine":4,"endColumn":34},{"ruleId":"90","severity":1,"message":"91","line":53,"column":8,"nodeType":"92","endLine":53,"endColumn":16,"suggestions":"93"},{"ruleId":"86","severity":1,"message":"94","line":44,"column":16,"nodeType":"88","messageId":"89","endLine":44,"endColumn":20},{"ruleId":"82","replacedBy":"95"},{"ruleId":"84","replacedBy":"96"},{"ruleId":"86","severity":1,"message":"97","line":98,"column":15,"nodeType":"88","messageId":"89","endLine":98,"endColumn":18},{"ruleId":"86","severity":1,"message":"98","line":1,"column":16,"nodeType":"88","messageId":"89","endLine":1,"endColumn":24},{"ruleId":"86","severity":1,"message":"99","line":2,"column":8,"nodeType":"88","messageId":"89","endLine":2,"endColumn":26},"no-native-reassign",["100"],"no-negated-in-lhs",["101"],"no-unused-vars","'useHistory' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["102"],"'data' is assigned a value but never used.",["100"],["101"],"'res' is assigned a value but never used.","'useState' is defined but never used.","'wrapActionCreators' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"103","fix":"104"},"Update the dependencies array to be: [dispatch, isAuth]",{"range":"105","text":"106"},[1771,1779],"[dispatch, isAuth]"]
{"ast":null,"code":"var _jsxFileName = \"/home/fabiozzz/www/react/y-champion/for-user/src/compponents/auth/forgetPassword/forgetPassword.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport './forget.css';\nimport { Steps } from \"../../../utils/steps/Steps\";\nimport { Input } from \"../../../utils/input/Input\";\nimport { useHistory } from \"react-router\";\nimport api from '../../../exampleApi/APIJWT';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ForgetPassword = () => {\n  _s();\n\n  let disable = false;\n  const [email, setEmail] = useState('');\n  const [codeEmail, setCodeEmail] = useState('');\n  const history = useHistory();\n  const [password, setPassword] = useState({\n    pass: '',\n    confPass: ''\n  });\n  const [step, setStep] = useState(1);\n\n  const handleEmail = e => {\n    e.preventDefault();\n    setEmail(e.target.value);\n  };\n\n  const handleCodeEmail = e => {\n    e.preventDefault();\n    setCodeEmail(e.target.value);\n  };\n\n  const handlePass = e => {\n    e.preventDefault();\n    setPassword(prevState => prevState.pass = e.target.value);\n  };\n\n  const handleConfPass = e => {\n    e.preventDefault();\n    setPassword(prevState => prevState.confPass = e.target.value);\n\n    if (password.pass !== password.confPass) {\n      disable = true;\n    }\n  };\n\n  const handleNextStep = async e => {\n    e.preventDefault();\n    setStep(prevState => prevState + 1);\n    let res = step === 1 ? await api.forgetEmail(email) : step === 2 ? await api.forgetCode(codeEmail) : await api.forgeRefreshPass(password);\n  };\n\n  const handlePrevStep = e => {\n    e.preventDefault();\n    setStep(prevState => prevState - 1);\n  };\n\n  const handleSubmitNewPass = e => {\n    e.preventDefault();\n    history.push('/login');\n  };\n\n  const place = step === 1 ? 'Введите ваш Email ...' : step === 2 ? 'Введите пароль из письма на почте ...' : 'Создайте новый пароль';\n  const type = step === 1 ? 'email' : step === 2 ? 'text' : 'password';\n  const val = step === 1 ? email : step === 2 ? codeEmail : 'password';\n  const setVal = step === 1 ? handleEmail : step === 2 ? handleCodeEmail : 'password';\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: 'auth',\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: place\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Steps, {\n        step: step\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), step < 3 ? /*#__PURE__*/_jsxDEV(Input, {\n        value: val,\n        setValue: setVal,\n        type: type\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          type: 'password',\n          value: password.pass,\n          placeholder: 'Введите новый пароль',\n          setValue: handlePass\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: 'password',\n          value: password.confPass,\n          placeholder: 'Повторите новый пароль',\n          setValue: handleConfPass\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), step < 3 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePrevStep,\n          disabled: step <= 1,\n          className: 'auth__btn',\n          children: \"Prev Step\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNextStep,\n          className: 'auth__btn',\n          children: \"Next Step\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmitNewPass,\n        disabled: disable,\n        className: 'auth__btn',\n        children: \"Finish\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ForgetPassword, \"Lmp7HKMhJF6s7mteUPPBJCAt66w=\", false, function () {\n  return [useHistory];\n});\n\n_c = ForgetPassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"ForgetPassword\");","map":{"version":3,"sources":["/home/fabiozzz/www/react/y-champion/for-user/src/compponents/auth/forgetPassword/forgetPassword.js"],"names":["React","useState","Steps","Input","useHistory","api","ForgetPassword","disable","email","setEmail","codeEmail","setCodeEmail","history","password","setPassword","pass","confPass","step","setStep","handleEmail","e","preventDefault","target","value","handleCodeEmail","handlePass","prevState","handleConfPass","handleNextStep","res","forgetEmail","forgetCode","forgeRefreshPass","handlePrevStep","handleSubmitNewPass","push","place","type","val","setVal"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport './forget.css'\nimport {Steps} from \"../../../utils/steps/Steps\";\nimport {Input} from \"../../../utils/input/Input\";\nimport {useHistory} from \"react-router\";\nimport api from '../../../exampleApi/APIJWT';\n\nexport const ForgetPassword = ()=> {\n    let disable = false;\n    const [email,setEmail] = useState('');\n    const [codeEmail,setCodeEmail] = useState('');\n    const history = useHistory();\n    const [password,setPassword] = useState({\n        pass:'',\n        confPass: '',\n    });\n    const [step,setStep] = useState(1);\n    const handleEmail = (e) => {\n        e.preventDefault();\n        setEmail(e.target.value);\n    };\n    const handleCodeEmail = (e) => {\n        e.preventDefault();\n        setCodeEmail(e.target.value);\n    };\n    const handlePass = (e)=>{\n        e.preventDefault();\n        setPassword(prevState => prevState.pass = e.target.value)\n    }\n    const handleConfPass = (e)=>{\n        e.preventDefault();\n        setPassword(prevState => prevState.confPass = e.target.value)\n        if (password.pass !== password.confPass) {\n            disable = true\n\n        }\n    }\n\n\n    const handleNextStep = async (e)=>{\n        e.preventDefault();\n        setStep(prevState => prevState + 1);\n        let res = step === 1 ? await api.forgetEmail(email) :\n            step === 2 ? await api.forgetCode(codeEmail) :\n                await api.forgeRefreshPass(password);\n    }\n    const handlePrevStep = (e)=>{\n        e.preventDefault();\n        setStep(prevState => prevState - 1);\n    }\n    const handleSubmitNewPass = (e) => {\n        e.preventDefault();\n        history.push('/login');\n    };\n\n    const place = step === 1 ? 'Введите ваш Email ...' : step ===2? 'Введите пароль из письма на почте ...'\n        : 'Создайте новый пароль';\n    const type = step === 1 ? 'email' : step ===2? 'text': 'password';\n    const val = step === 1 ? email : step ===2? codeEmail: 'password';\n    const setVal = step === 1 ? handleEmail : step ===2? handleCodeEmail : 'password';\n\n    return (\n        <React.Fragment>\n            <form className={'auth'}>\n                <h4>{place}</h4>\n                <Steps step={step}/>\n                {step<3?\n                    <Input value={val} setValue={setVal} type={type}/>:\n                    <>\n                        <Input type={'password'} value={password.pass} placeholder={'Введите новый пароль'} setValue={handlePass}/>\n                        <Input  type={'password'} value={password.confPass} placeholder={'Повторите новый пароль'} setValue={handleConfPass}/>\n                    </>\n                }\n                { step <3 ?\n                    <>\n                        <button onClick={handlePrevStep} disabled={step <= 1}\n                                className={'auth__btn'}>Prev Step\n                        </button>\n                        <button onClick={handleNextStep} className={'auth__btn'}>Next Step</button>\n                    </>\n                    :\n                    <button onClick={handleSubmitNewPass} disabled={disable} className={'auth__btn'}>Finish</button>\n                }\n            </form>\n        </React.Fragment>\n    );\n}"]},"metadata":{},"sourceType":"module"}